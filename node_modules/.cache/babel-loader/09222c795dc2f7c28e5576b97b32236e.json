{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Evan_\\\\sign-language-interpreter\\\\src\\\\Camera.js\";\nimport React, { useEffect, useState } from 'react';\nimport Webcam from \"react-webcam\";\nimport axios from 'axios';\nimport { Table, Message } from 'semantic-ui-react';\n\nfunction Camera({\n  letter\n}) {\n  const webcamRef = React.useRef(null);\n  let [curValue, setCurValue] = useState(\"negative\");\n  let [tabValue, setTabValue] = useState([]);\n  let refreshing = true;\n  const capture = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n\n    if (imageSrc && refreshing) {\n      refreshing = false;\n      console.log(\"sending...\");\n      axios({\n        method: 'POST',\n        url: 'https://heimdall.phillytan.xyz/url',\n        data: {\n          url: imageSrc\n        }\n      }).then(async res => {\n        let a = res.data.sort((a, b) => b.probability - a.probability).map(x => [x.tagName, x.probability]);\n        console.log(a);\n        await setCurValue(`${a[0][0]} or ${a[1][0]} or ${a[2][0]}`);\n        await setTabValue(a);\n        refreshing = true;\n      });\n    }\n  }, [refreshing]);\n  useEffect(() => {\n    setInterval(capture, 5000);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"camera\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Webcam, {\n    height: 500,\n    width: 500,\n    ref: webcamRef,\n    screenshotFormat: \"image/png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), tabValue.length > 2 && (tabValue[0][0] === letter || tabValue[1][0] === letter || tabValue[2][0] === letter) ? /*#__PURE__*/React.createElement(Message, {\n    positive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Message.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Correct\")) : /*#__PURE__*/React.createElement(Message, {\n    negative: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Message.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Wrong\")), /*#__PURE__*/React.createElement(Table, {\n    tableData: tabValue,\n    renderBodyRow: (x, i) => {\n      return /*#__PURE__*/React.createElement(Table.Row, {\n        positive: (i === 0 || i === 1 || i === 2) && x[0] === letter,\n        warning: i === 0 && !((i === 0 || i === 1 || i === 2) && x[0] === letter),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }\n      }, x[0]), /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, x[1]));\n    },\n    headerRow: () => {\n      return /*#__PURE__*/React.createElement(Table.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, \"Letter\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }, \"Probability\"));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Camera;","map":{"version":3,"sources":["C:/Users/Evan_/sign-language-interpreter/src/Camera.js"],"names":["React","useEffect","useState","Webcam","axios","Table","Message","Camera","letter","webcamRef","useRef","curValue","setCurValue","tabValue","setTabValue","refreshing","capture","useCallback","imageSrc","current","getScreenshot","console","log","method","url","data","then","res","a","sort","b","probability","map","x","tagName","setInterval","length","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Webcam from \"react-webcam\";\r\nimport axios from 'axios';\r\nimport { Table, Message } from 'semantic-ui-react';\r\n\r\nfunction Camera({letter}){\r\n  const webcamRef = React.useRef(null);\r\n  let [curValue, setCurValue] = useState(\"negative\");\r\n  let [tabValue, setTabValue] = useState([]);\r\n  let refreshing = true;\r\n\r\n  const capture = React.useCallback(\r\n    () => {\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (imageSrc && refreshing) {  \r\n        refreshing = false\r\n        console.log(\"sending...\")\r\n        axios({\r\n          method: 'POST',\r\n          url: 'https://heimdall.phillytan.xyz/url',\r\n          data: {\r\n            url: imageSrc\r\n          }\r\n        }).then(async res => {\r\n          let a = res.data.sort((a, b) => b.probability - a.probability).map(x => [x.tagName, x.probability])\r\n          console.log(a);\r\n          await setCurValue(`${a[0][0]} or ${a[1][0]} or ${a[2][0]}`);\r\n          await setTabValue(a)\r\n          refreshing = true;\r\n        })\r\n      }\r\n    },\r\n    [refreshing]\r\n  );\r\n  useEffect(() => {\r\n    setInterval(capture, 5000);\r\n  });\r\n  return(\r\n    <div id = \"camera\">\r\n      <Webcam \r\n        height={500}\r\n        width={500}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/png\"\r\n      />\r\n      {(tabValue.length > 2 && (tabValue[0][0] === letter || tabValue[1][0] === letter || tabValue[2][0] === letter)) ? \r\n      (\r\n        <Message positive>\r\n          <Message.Header>Correct</Message.Header>\r\n        </Message>\r\n      ) : \r\n      (\r\n        <Message negative>\r\n          <Message.Header>Wrong</Message.Header>\r\n        </Message>\r\n      )}\r\n      <Table \r\n        tableData={tabValue}\r\n        renderBodyRow={(x, i) => {\r\n          return (\r\n            <Table.Row positive={(i === 0 || i === 1 || i === 2) && x[0] === letter} warning={i === 0 && !((i === 0 || i === 1 || i === 2) && x[0] === letter)}>\r\n              <Table.Cell>{x[0]}</Table.Cell>\r\n              <Table.Cell>{x[1]}</Table.Cell>\r\n            </Table.Row>\r\n          );\r\n        }}\r\n        headerRow={() => {\r\n          return (\r\n            <Table.Row>\r\n              <Table.HeaderCell>Letter</Table.HeaderCell>\r\n              <Table.HeaderCell>Probability</Table.HeaderCell>\r\n            </Table.Row>\r\n          );\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Camera"]},"metadata":{},"sourceType":"module"}